<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.112.3">


<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn-main@1/images/favicons/dsrca.ico" />



<title>Hackday - Data Science and Docker Working Together - My Writings - Bill Chambers</title>


<meta name="author" content="Bill Chambers" />


<meta name="description" content="something" />



<meta property="og:title" content="Hackday - Data Science and Docker Working Together" />
<meta name="twitter:title" content="Hackday - Data Science and Docker Working Together" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://billchambers.me/posts/python-datascience-and-docker/" /><meta property="og:description" content="This past weekend was at the wise.io data science hack day and had a great time. The team is clearly intelligent and I really enjoy working and learning in that kind of environment.
We went over Docker and its utility in the data science field. While I understood the docker abstraction (and basic motivation) previously I still didn&rsquo;t feel like I &ldquo;got it&rdquo;. This hands on experience with Docker really opened my eyes to how the tool is used and the benefit companies are getting form it." />
<meta name="twitter:description" content="This past weekend was at the wise.io data science hack day and had a great time. The team is clearly intelligent and I really enjoy working and learning in that kind of environment.
We went over Docker and its utility in the data science field. While I understood the docker abstraction (and basic motivation) previously I still didn&rsquo;t feel like I &ldquo;got it&rdquo;. This hands on experience with Docker really opened my eyes to how the tool is used and the benefit companies are getting form it." /><meta name="twitter:card" content="summary" /><meta property="article:published_time" content="2015-01-18T00:00:00+00:00" /><meta property="article:modified_time" content="2015-01-18T00:00:00+00:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>




<link rel="stylesheet" href="http://billchambers.me/assets/css/fuji.min.b4a21b5d3eb1d0a51297e31230a65fc25e387843e45ec3a2d9176cd8d163c216d99b9b13a618b28f537c3b559ec8a408183b0fbfad48daddb9befa7d3ef90eed.css" integrity="sha512-tKIbXT6x0KUSl&#43;MSMKZfwl44eEPkXsOi2Rds2NFjwhbZm5sTphiyj1N8O1WeyKQIGDsPv61I2t25vvp9PvkO7Q==" />








</head>

<body
  data-theme="auto"
  data-theme-auto='false'
  >
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="http://billchambers.me">My Writings - Bill Chambers</a>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="http://billchambers.me/posts/python-datascience-and-docker/">Hackday - Data Science and Docker Working Together</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2015-01-18</span>



<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;No tag</span>

    </div>
    
    <div class="post-content markdown-body">
        <p>This past weekend was at the <a href="http://wise.io/" target="_blank">wise.io</a> data science hack day and had a great time. The team is clearly intelligent and I really enjoy working and learning in that kind of environment.</p>
<p><img class="img-zoomable" src="/docker-whale-home-logo.png" alt="Docker" />
</p>
<p>We went over Docker and its utility in the data science field. While I understood the docker abstraction (and basic motivation) previously I still didn&rsquo;t feel like I &ldquo;got it&rdquo;. This hands on experience with Docker really opened my eyes to how the tool is used and the benefit companies are getting form it. It&rsquo;s always nice to hear use cases from real companies solving real problems.</p>
<p>While docker doesn&rsquo;t have a concept of a push to a server (like something like git) the reproducibility of modeling in the data science context is powerful. That is, there is no more dealing with random machines getting results that other machines don&rsquo;t get or having to set up chef or bash scripts to install a ton of dependencies every time you start a server. Docker really abstracts all that away.</p>
<p>You can package up a model in a docker container, go have that run on some data and return some results - quickly. If you change the model, you can know that other people will be able to replicate the results because of the containerization of the model.</p>
<p>On top of that, running automated tests or trying different model parameters in a parallel way is powerful.</p>
<p>I was able to get my own docker image up and running from the wiseio base and will be maintaining on <a href="https://github.com/anabranch/datascience-docker" target="_blank">my Github.</a> The primary difference is that I added lxml for simple web-scraping with pandas.</p>
<p>Now I&rsquo;m using a mac so I have to use boot2docker which seems to work pretty well.</p>
<p>Once I&rsquo;ve got it all installed, I ran</p>
<pre tabindex="0"><code>boot2docker up
</code></pre><p>You can get started with the image I creates by cloning it locally and once you&rsquo;ve <a href="https://docs.docker.com/#installation-guides" target="_blank">installed docker</a> you simply run <code>make</code> in the github directory and it will build that docker image and save it locally for you. You can see what images you have on your machine with the <code>docker images</code> command.</p>
<p>Now whenever you want to create a repeatable data science experiment, you just navigate to that directory and run:</p>
<pre tabindex="0"><code>export IPYTHON\_PASSWORD=DATASCI
alias do-ds=&#39;docker run -d -p 80:8888 -v `pwd`:/workspace/ -v `pwd`/data:/workspace/data -e &#34;PASSWORD=$IPYTHON\_PASSWORD&#34; ds-base ; echo &#34;Now go to your browser: http://$(boot2docker ip). The password is $IPYTHON\_PASSWORD&#34; &#39;
</code></pre><p>Which will set your ipython password as DATASCI and give you the do-ds alias allowing you to start it up in that directory with all the necessary parameters. I just put it into my <code>.zshrc</code> file for future use.</p>
<p><em>Please note you&rsquo;ve got to use backticks when setting this alias is zsh, but not so in bash if I&rsquo;m not mistaken. I had to learn a little for this <a href="http://stackoverflow.com/questions/5566078/get-the-pwd-in-an-alias" target="_blank">SO post.</a></em></p>
<p>Finally run</p>
<pre tabindex="0"><code>do-ds
</code></pre><p>You&rsquo;ll see a print out similar to</p>
<pre tabindex="0"><code>423940a7f946eed6f92a15df6d59b9eee8187b8cbd45a30e31f019edfcca9d35
Now go to your browser: http://192.168.59.103. The password is DATASCI
</code></pre><p>Which gives you the container ID and then url and password for accessing the IPython notebook running in that container. That will also have created a &ldquo;data&rdquo; directory on your current directory where you can add files that you want to access from the docker container. Now you can write your code, perform your analysis, and it will automatically save those files for work later on on your local machine.</p>
<p>What&rsquo;s nice is you get a good, clean build every time you want to study or model something new.</p>
<p>Here&rsquo;s another example, say that I&rsquo;ve got a model that works on some data I have on my local directory and I want to see if it operates differently in docker. Obviously this isn&rsquo;t a real instance of such an example but you can start seeing the power of the docker abstraction.</p>
<pre tabindex="0"><code>cat model.py # simple print statement, but this could be a whole model...
print &#34;Testing data...&#34;
</code></pre><pre tabindex="0"><code>docker run -t -i -v ~/Desktop/temp/model.py:/model.py ubuntu:14.04 /bin/sh -c &#34;apt-get install -y python; python model.py;&#34;
</code></pre><p>Our instructions are basically mount the file <code>model.py</code> into the image, install python, then run <code>python model.py</code>.</p>
<pre tabindex="0"><code>Reading package lists... Done
Building dependency tree
...
After this operation, 16.0 MB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu/ trusty/main libpython2.7-minimal amd64 2.7.6-8 [307 kB]
...
Fetched 3734 kB in 9s (409 kB/s)
...
Testing data...
</code></pre><p>The container automatically shuts down with model is run.</p>
<p>Finally you can see all the containers you are running by running <code>docker ps</code> and then shut them down with <code>docker stop &lt;container-id&gt;</code> or just by using the name that you&rsquo;ll see at the far right.</p>
<p>Now there&rsquo;s obviously a lot more to docker than just what&rsquo;s above. Integrations like AWS Container Service and AWS EBS seem extremely powerful to help you scale your docker applications. I will definitely continue to use Docker in my data science projects and would encourage anyone that is interested in giving it a try in their own workflow as well.</p>

    </div>
</article>




            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/products/">Products &amp; Projects</a>
            </li>
            
            <li>
                <a href="/posts/">Posts</a>
            </li>
            
            <li>
                <a href="/categories/">Categories</a>
            </li>
            
            <li>
                <a href="/quotes/">Quotes</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/wachambers/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/bllchmbrs" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/privacy/">privacy</a>
            </span>
            
        </div>
    </div>
    <div class="sidebar-item sidebar-toc">
        <h3>Table of Contents</h3><nav id="TableOfContents"></nav></div>
</aside>

        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/products/">Products &amp; Projects</a>
            </li>
            
            <li>
                <a href="/posts/">Posts</a>
            </li>
            
            <li>
                <a href="/categories/">Categories</a>
            </li>
            
            <li>
                <a href="/quotes/">Quotes</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/wachambers/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/bllchmbrs" target="_blank"><span>Twitter</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/privacy/">privacy</a>
            </span>
            
        </div>
    </div>
    
    
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2023
                <a href="http://billchambers.me">Bill Chambers</a>
                
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js" integrity="sha512-LCKPTo0gtJ74zCNMbWw04ltmujpzSR4oW+fgN+Y1YclhM5ZrHCZQAJE4quEodcI/G122sRhSGU2BsSRUZ2Gu3w==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-GP4x8UWxWyh4BMbyJGOGneiTbkrWEF5izsVJByzVLodP8CuJH/n936+yQDMJJrOPUHLgyPbLiGw2rXmdvGdXHA==" crossorigin="anonymous"></script>



<script defer src="/assets/js/fuji.min.645f1123be695831f419ab54c1bcba327325895c740014006e57070d4f3e5d6b553e929c4b46f40ea707249e9c7f7c2a446d32a39ce7319f80a34525586a8e0f.js" integrity="sha512-ZF8RI75pWDH0GatUwby6MnMliVx0ABQAblcHDU8&#43;XWtVPpKcS0b0DqcHJJ6cf3wqRG0yo5znMZ&#43;Ao0UlWGqODw=="></script>



</body>

</html>
